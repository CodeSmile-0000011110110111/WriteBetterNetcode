\doxysubsection{Mono\+Singleton\texorpdfstring{$<$}{<} T \texorpdfstring{$>$}{>} Class Template Reference}
\hypertarget{class_code_smile_1_1_components_1_1_utility_1_1_mono_singleton}{}\label{class_code_smile_1_1_components_1_1_utility_1_1_mono_singleton}\index{MonoSingleton$<$ T $>$@{MonoSingleton$<$ T $>$}}


Slim and safe Mono\+Behaviour Singleton with guaranteed lifetime from first instantiation to application quit. Safeguarded against instance duplication, instance re-\/assignment and premature destruction.  




Inheritance diagram for Mono\+Singleton\texorpdfstring{$<$}{<} T \texorpdfstring{$>$}{>}\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=196pt]{class_code_smile_1_1_components_1_1_utility_1_1_mono_singleton__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for Mono\+Singleton\texorpdfstring{$<$}{<} T \texorpdfstring{$>$}{>}\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=196pt]{class_code_smile_1_1_components_1_1_utility_1_1_mono_singleton__coll__graph}
\end{center}
\end{figure}
\doxysubsubsubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual void \mbox{\hyperlink{class_code_smile_1_1_components_1_1_utility_1_1_mono_singleton_affb6ac8f8f08d515a8b74f5c213c2c52_affb6ac8f8f08d515a8b74f5c213c2c52}{Awake}} ()
\begin{DoxyCompactList}\small\item\em Call base.\+Awake() to automatically assign \textquotesingle{}this\textquotesingle{} as the singleton instance. Otherwise you need to call Set\+Singleton\+Instance(this) yourself BEFORE the Singleton property gets accessed! \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{class_code_smile_1_1_components_1_1_utility_1_1_mono_singleton_adc2f8a2859f53e3731e5aa660b973bc4_adc2f8a2859f53e3731e5aa660b973bc4}{On\+Application\+Quit}} ()
\begin{DoxyCompactList}\small\item\em CAUTION\+: you must call base.\+On\+Application\+Quit() when overriding this method! \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{class_code_smile_1_1_components_1_1_utility_1_1_mono_singleton_a1be5f5b23715843a7bfc4f2ebd6c7894_a1be5f5b23715843a7bfc4f2ebd6c7894}{On\+Destroy}} ()
\begin{DoxyCompactList}\small\item\em To support \textquotesingle{}disabled domain reload\textquotesingle{} we need to null the instance in On\+Destroy. CAUTION\+: you must call base.\+On\+Destroy() when overriding this method! \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{class_code_smile_1_1_components_1_1_utility_1_1_mono_singleton_aacba56eb2495b7374d62dfc7dc783b79_aacba56eb2495b7374d62dfc7dc783b79}{Start}} ()
\end{DoxyCompactItemize}
\doxysubsubsubsection*{Static Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
static void \mbox{\hyperlink{class_code_smile_1_1_components_1_1_utility_1_1_mono_singleton_ae4cb9374cfdf6a21c795cc2acff39b98_ae4cb9374cfdf6a21c795cc2acff39b98}{Set\+Singleton\+Instance}} (T instance)
\begin{DoxyCompactList}\small\item\em Assigns the singleton instance. CAUTION\+: Only call this if you don\textquotesingle{}t call base.\+Awake()! \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsubsection*{Properties}
\begin{DoxyCompactItemize}
\item 
static T \mbox{\hyperlink{class_code_smile_1_1_components_1_1_utility_1_1_mono_singleton_a131d5b2725566e852567e2c7a206e00f_a131d5b2725566e852567e2c7a206e00f}{Singleton}}\hspace{0.3cm}{\ttfamily  \mbox{[}get\mbox{]}}
\begin{DoxyCompactList}\small\item\em Access the Singleton instance. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsubsection{Detailed Description}
Slim and safe Mono\+Behaviour Singleton with guaranteed lifetime from first instantiation to application quit. Safeguarded against instance duplication, instance re-\/assignment and premature destruction. 

Create a singleton instance by subclassing\+: {\ttfamily public class My\+Singleton \+: \doxylink{class_code_smile_1_1_components_1_1_utility_1_1_mono_singleton}{Mono\+Singleton}\&lt;My\+Singleton\&gt; \{\}} 

This singleton can be used in two ways\+: 1) Classic\+: add singleton component to a Game\+Object in prefab or scene. Then override Awake and either call base.\+Awake() or Set\+Singleton\+Instance(this). 2) Auto-\/\+Create\+: do NOT add the singleton component to a Game\+Object! The first time T.\+Singleton is accessed, a new Game\+Object with the T component gets created automatically. NOTE\+: in BOTH cases the singleton\textquotesingle{}s Game\+Object gets marked as Dont\+Destroy\+On\+Load(instance) to guarantee it persists throughout scene changes. Keep this in mind when adding additional components to the same Game\+Object (prefer not to do so). 

Classic (1) singleton is required if you need to assign singleton fields in the Inspector. You have to ensure that the Game\+Object has its base.\+Awake() method called before any script accesses its Singleton field, otherwise you get an "{}already instantiated"{} exception. Auto-\/\+Create (2) singleton is recommended otherwise. This guarantees that the Singleton is available as soon as its being accessed the first time. There is no need to test for \textquotesingle{}if (T.\+Singleton != null)\textquotesingle{} anywhere for Auto-\/\+Create singletons. 

This singleton is not re-\/entrant on purpose. You cannot, and must not, destroy the singleton component or the Game\+Object it is added to once it has been created. That is the definition of a singleton. If you need to perform cleanup, do so by hooking into appropriate event methods such as scene load or network shutdown. 


\begin{DoxyTemplParams}{Template Parameters}
{\em T} & \\
\hline
\end{DoxyTemplParams}
\begin{Desc}
\item[Type Constraints]\begin{description}
\item[{\em T} : {\em \mbox{\hyperlink{class_code_smile_1_1_components_1_1_utility_1_1_mono_singleton}{Mono\+Singleton}}$<$T$>$}]\end{description}
\end{Desc}


Definition at line \mbox{\hyperlink{_mono_singleton_8cs_source_l00042}{42}} of file \mbox{\hyperlink{_mono_singleton_8cs_source}{Mono\+Singleton.\+cs}}.



\doxysubsubsection{Member Function Documentation}
\Hypertarget{class_code_smile_1_1_components_1_1_utility_1_1_mono_singleton_affb6ac8f8f08d515a8b74f5c213c2c52_affb6ac8f8f08d515a8b74f5c213c2c52}\index{MonoSingleton$<$ T $>$@{MonoSingleton$<$ T $>$}!Awake@{Awake}}
\index{Awake@{Awake}!MonoSingleton$<$ T $>$@{MonoSingleton$<$ T $>$}}
\doxyparagraph{\texorpdfstring{Awake()}{Awake()}}
{\footnotesize\ttfamily \label{class_code_smile_1_1_components_1_1_utility_1_1_mono_singleton_affb6ac8f8f08d515a8b74f5c213c2c52_affb6ac8f8f08d515a8b74f5c213c2c52} 
virtual void Awake (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}



Call base.\+Awake() to automatically assign \textquotesingle{}this\textquotesingle{} as the singleton instance. Otherwise you need to call Set\+Singleton\+Instance(this) yourself BEFORE the Singleton property gets accessed! 



Definition at line \mbox{\hyperlink{_mono_singleton_8cs_source_l00095}{95}} of file \mbox{\hyperlink{_mono_singleton_8cs_source}{Mono\+Singleton.\+cs}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00096\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00097\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (s\_Instance\ !=\ \textcolor{keyword}{null})}
\DoxyCodeLine{00098\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \textcolor{keyword}{new}\ InvalidOperationException(\$\textcolor{stringliteral}{"{}\{nameof(MonoSingleton<T>)\}<\{typeof(T).Name\}>\ already\ instantiated!"{}});}
\DoxyCodeLine{00099\ }
\DoxyCodeLine{00100\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_code_smile_1_1_components_1_1_utility_1_1_mono_singleton_ae4cb9374cfdf6a21c795cc2acff39b98_ae4cb9374cfdf6a21c795cc2acff39b98}{SetSingletonInstance}}(\textcolor{keyword}{this}\ as\ T);}
\DoxyCodeLine{00101\ \ \ \ \ \ \ \ \ \}}

\end{DoxyCode}


References \mbox{\hyperlink{_mono_singleton_8cs_source_l00079}{Mono\+Singleton$<$ T $>$.\+Set\+Singleton\+Instance()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=270pt]{class_code_smile_1_1_components_1_1_utility_1_1_mono_singleton_affb6ac8f8f08d515a8b74f5c213c2c52_affb6ac8f8f08d515a8b74f5c213c2c52_cgraph}
\end{center}
\end{figure}
\Hypertarget{class_code_smile_1_1_components_1_1_utility_1_1_mono_singleton_adc2f8a2859f53e3731e5aa660b973bc4_adc2f8a2859f53e3731e5aa660b973bc4}\index{MonoSingleton$<$ T $>$@{MonoSingleton$<$ T $>$}!OnApplicationQuit@{OnApplicationQuit}}
\index{OnApplicationQuit@{OnApplicationQuit}!MonoSingleton$<$ T $>$@{MonoSingleton$<$ T $>$}}
\doxyparagraph{\texorpdfstring{OnApplicationQuit()}{OnApplicationQuit()}}
{\footnotesize\ttfamily \label{class_code_smile_1_1_components_1_1_utility_1_1_mono_singleton_adc2f8a2859f53e3731e5aa660b973bc4_adc2f8a2859f53e3731e5aa660b973bc4} 
virtual void On\+Application\+Quit (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}



CAUTION\+: you must call base.\+On\+Application\+Quit() when overriding this method! 



Definition at line \mbox{\hyperlink{_mono_singleton_8cs_source_l00132}{132}} of file \mbox{\hyperlink{_mono_singleton_8cs_source}{Mono\+Singleton.\+cs}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00133\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00134\ \textcolor{preprocessor}{\#if\ DEBUG }}
\DoxyCodeLine{00135\ \ \ \ \ \ \ \ \ \ \ \ \ DisableCheckDestroyWithoutQuitCheck();}
\DoxyCodeLine{00136\ \textcolor{preprocessor}{\#endif }}
\DoxyCodeLine{00137\ \ \ \ \ \ \ \ \ \}}

\end{DoxyCode}
\Hypertarget{class_code_smile_1_1_components_1_1_utility_1_1_mono_singleton_a1be5f5b23715843a7bfc4f2ebd6c7894_a1be5f5b23715843a7bfc4f2ebd6c7894}\index{MonoSingleton$<$ T $>$@{MonoSingleton$<$ T $>$}!OnDestroy@{OnDestroy}}
\index{OnDestroy@{OnDestroy}!MonoSingleton$<$ T $>$@{MonoSingleton$<$ T $>$}}
\doxyparagraph{\texorpdfstring{OnDestroy()}{OnDestroy()}}
{\footnotesize\ttfamily \label{class_code_smile_1_1_components_1_1_utility_1_1_mono_singleton_a1be5f5b23715843a7bfc4f2ebd6c7894_a1be5f5b23715843a7bfc4f2ebd6c7894} 
virtual void On\+Destroy (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}



To support \textquotesingle{}disabled domain reload\textquotesingle{} we need to null the instance in On\+Destroy. CAUTION\+: you must call base.\+On\+Destroy() when overriding this method! 



Definition at line \mbox{\hyperlink{_mono_singleton_8cs_source_l00119}{119}} of file \mbox{\hyperlink{_mono_singleton_8cs_source}{Mono\+Singleton.\+cs}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00120\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00121\ \textcolor{preprocessor}{\#if\ DEBUG }}
\DoxyCodeLine{00122\ \ \ \ \ \ \ \ \ \ \ \ \ CheckDestroyWithoutQuit();}
\DoxyCodeLine{00123\ \textcolor{preprocessor}{\#endif }}
\DoxyCodeLine{00124\ }
\DoxyCodeLine{00125\ \ \ \ \ \ \ \ \ \ \ \ \ s\_Instance\ =\ \textcolor{keyword}{null};}
\DoxyCodeLine{00126\ \ \ \ \ \ \ \ \ \ \ \ \ s\_IsInstanceAssigned\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00127\ \ \ \ \ \ \ \ \ \}}

\end{DoxyCode}
\Hypertarget{class_code_smile_1_1_components_1_1_utility_1_1_mono_singleton_ae4cb9374cfdf6a21c795cc2acff39b98_ae4cb9374cfdf6a21c795cc2acff39b98}\index{MonoSingleton$<$ T $>$@{MonoSingleton$<$ T $>$}!SetSingletonInstance@{SetSingletonInstance}}
\index{SetSingletonInstance@{SetSingletonInstance}!MonoSingleton$<$ T $>$@{MonoSingleton$<$ T $>$}}
\doxyparagraph{\texorpdfstring{SetSingletonInstance()}{SetSingletonInstance()}}
{\footnotesize\ttfamily \label{class_code_smile_1_1_components_1_1_utility_1_1_mono_singleton_ae4cb9374cfdf6a21c795cc2acff39b98_ae4cb9374cfdf6a21c795cc2acff39b98} 
static void Set\+Singleton\+Instance (\begin{DoxyParamCaption}\item[{T}]{instance}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [protected]}}



Assigns the singleton instance. CAUTION\+: Only call this if you don\textquotesingle{}t call base.\+Awake()! 

Prefer to call base.\+Awake() over manually calling Set\+Singleton\+Instance(this). 


\begin{DoxyParams}{Parameters}
{\em instance} & \\
\hline
\end{DoxyParams}

\begin{DoxyExceptions}{Exceptions}
{\em Argument\+Null\+Exception} & The instance parameter is null. The singleton cannot be set to null. This is by design. \\
\hline
\end{DoxyExceptions}


Definition at line \mbox{\hyperlink{_mono_singleton_8cs_source_l00079}{79}} of file \mbox{\hyperlink{_mono_singleton_8cs_source}{Mono\+Singleton.\+cs}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00080\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00081\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (instance\ ==\ \textcolor{keyword}{null})}
\DoxyCodeLine{00082\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \textcolor{keyword}{new}\ ArgumentNullException(\textcolor{stringliteral}{"{}instance\ must\ not\ be\ null"{}});}
\DoxyCodeLine{00083\ }
\DoxyCodeLine{00084\ \ \ \ \ \ \ \ \ \ \ \ \ s\_Instance\ =\ instance;}
\DoxyCodeLine{00085\ \ \ \ \ \ \ \ \ \ \ \ \ s\_IsInstanceAssigned\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00086\ \ \ \ \ \ \ \ \ \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{_mono_singleton_8cs_source_l00095}{Mono\+Singleton$<$ T $>$.\+Awake()}}.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=270pt]{class_code_smile_1_1_components_1_1_utility_1_1_mono_singleton_ae4cb9374cfdf6a21c795cc2acff39b98_ae4cb9374cfdf6a21c795cc2acff39b98_icgraph}
\end{center}
\end{figure}
\Hypertarget{class_code_smile_1_1_components_1_1_utility_1_1_mono_singleton_aacba56eb2495b7374d62dfc7dc783b79_aacba56eb2495b7374d62dfc7dc783b79}\index{MonoSingleton$<$ T $>$@{MonoSingleton$<$ T $>$}!Start@{Start}}
\index{Start@{Start}!MonoSingleton$<$ T $>$@{MonoSingleton$<$ T $>$}}
\doxyparagraph{\texorpdfstring{Start()}{Start()}}
{\footnotesize\ttfamily \label{class_code_smile_1_1_components_1_1_utility_1_1_mono_singleton_aacba56eb2495b7374d62dfc7dc783b79_aacba56eb2495b7374d62dfc7dc783b79} 
virtual void Start (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}



Definition at line \mbox{\hyperlink{_mono_singleton_8cs_source_l00104}{104}} of file \mbox{\hyperlink{_mono_singleton_8cs_source}{Mono\+Singleton.\+cs}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00105\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00106\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ DDoL\ only\ works\ on\ root\ game\ objects}}
\DoxyCodeLine{00107\ \ \ \ \ \ \ \ \ \ \ \ \ transform.parent\ =\ \textcolor{keyword}{null};}
\DoxyCodeLine{00108\ \ \ \ \ \ \ \ \ \ \ \ \ DontDestroyOnLoad(gameObject);}
\DoxyCodeLine{00109\ }
\DoxyCodeLine{00110\ \textcolor{preprocessor}{\#if\ DEBUG }}
\DoxyCodeLine{00111\ \ \ \ \ \ \ \ \ \ \ \ \ EnableCheckDestroyWithoutQuitCheck();}
\DoxyCodeLine{00112\ \textcolor{preprocessor}{\#endif }}
\DoxyCodeLine{00113\ \ \ \ \ \ \ \ \ \}}

\end{DoxyCode}


\doxysubsubsection{Property Documentation}
\Hypertarget{class_code_smile_1_1_components_1_1_utility_1_1_mono_singleton_a131d5b2725566e852567e2c7a206e00f_a131d5b2725566e852567e2c7a206e00f}\index{MonoSingleton$<$ T $>$@{MonoSingleton$<$ T $>$}!Singleton@{Singleton}}
\index{Singleton@{Singleton}!MonoSingleton$<$ T $>$@{MonoSingleton$<$ T $>$}}
\doxyparagraph{\texorpdfstring{Singleton}{Singleton}}
{\footnotesize\ttfamily \label{class_code_smile_1_1_components_1_1_utility_1_1_mono_singleton_a131d5b2725566e852567e2c7a206e00f_a131d5b2725566e852567e2c7a206e00f} 
T Singleton\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [get]}}



Access the Singleton instance. 

If the Singleton has not been assigned on first access to this property, a new Game\+Object will be instantiated with the T component on it which then becomes the singleton instance. This is the Auto-\/\+Create behaviour. 

Definition at line \mbox{\hyperlink{_mono_singleton_8cs_source_l00054}{54}} of file \mbox{\hyperlink{_mono_singleton_8cs_source}{Mono\+Singleton.\+cs}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00055\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00056\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{get}}
\DoxyCodeLine{00057\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00058\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (s\_IsInstanceAssigned\ ==\ \textcolor{keyword}{false})}
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00060\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ var\ instance\ =\ AutoCreateInstance();}
\DoxyCodeLine{00061\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_code_smile_1_1_components_1_1_utility_1_1_mono_singleton_ae4cb9374cfdf6a21c795cc2acff39b98_ae4cb9374cfdf6a21c795cc2acff39b98}{SetSingletonInstance}}(instance);}
\DoxyCodeLine{00062\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00063\ }
\DoxyCodeLine{00064\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ s\_Instance;}
\DoxyCodeLine{00065\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00066\ \ \ \ \ \ \ \ \ \}}

\end{DoxyCode}
