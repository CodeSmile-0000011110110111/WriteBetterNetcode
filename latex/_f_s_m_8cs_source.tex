\doxysubsection{FSM.\+cs}
\hypertarget{_f_s_m_8cs_source}{}\label{_f_s_m_8cs_source}\index{U:/Netcode/WriteBetterNetcode/WriteBetterNetcode/Assets/CodeSmile/Core/Statemachine/FSM.cs@{U:/Netcode/WriteBetterNetcode/WriteBetterNetcode/Assets/CodeSmile/Core/Statemachine/FSM.cs}}

\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00001}00001\ \textcolor{comment}{//\ Copyright\ (C)\ 2021-\/2024\ Steffen\ Itterheim}}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00002}00002\ \textcolor{comment}{//\ Refer\ to\ included\ LICENSE\ file\ for\ terms\ and\ conditions.}}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00003}00003\ }
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00004}00004\ \textcolor{keyword}{using\ }System;}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00005}00005\ \textcolor{keyword}{using\ }UnityEditor;}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00006}00006\ \textcolor{keyword}{using\ }UnityEngine;}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00007}00007\ }
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00008}00008\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespace_code_smile_1_1_statemachine}{CodeSmile.Statemachine}}}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00009}00009\ \{}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00013}00013\ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{sealed}\ \textcolor{keyword}{partial\ class\ }FSM}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00014}00014\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00018}\mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_f_s_m_aeca885021ed88c142b302e348f89bee3_aeca885021ed88c142b302e348f89bee3}{00018}}\ \ \ \ \ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{event}\ \mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_f_s_m_ae1cbadb92baa3aa26c5d7d2b4b7228e4_ae1cbadb92baa3aa26c5d7d2b4b7228e4}{Action<StateChangeEventArgs>}}\ \mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_f_s_m_aeca885021ed88c142b302e348f89bee3_aeca885021ed88c142b302e348f89bee3}{OnStateChange}};}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00019}00019\ }
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00023}\mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_f_s_m_a8025d9d59a9a164c8f31e0137a2e2dbd_a8025d9d59a9a164c8f31e0137a2e2dbd}{00023}}\ \ \ \ \ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{event}\ \mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_f_s_m_ae1cbadb92baa3aa26c5d7d2b4b7228e4_ae1cbadb92baa3aa26c5d7d2b4b7228e4}{Action<StatemachineStoppedEventArgs>}}\ \mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_f_s_m_a8025d9d59a9a164c8f31e0137a2e2dbd_a8025d9d59a9a164c8f31e0137a2e2dbd}{OnStopped}};}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00024}00024\ }
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00025}00025\ \ \ \ \ \ \ \ \ \textcolor{keyword}{private}\ \textcolor{keyword}{static}\ readonly\ \mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_variables}{Variables}}\ s\_StaticVars\ =\ \textcolor{keyword}{new}();}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00026}00026\ }
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00027}00027\ \ \ \ \ \ \ \ \ \textcolor{keyword}{private}\ \mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_f_s_m_1_1_state}{State}}[]\ m\_States;}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00028}00028\ }
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00029}00029\ \ \ \ \ \ \ \ \ \textcolor{keyword}{private}\ Boolean\ m\_Logging;}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00030}00030\ }
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00034}\mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_f_s_m_aa84653af26f8718c2845404b8dedc8d6_aa84653af26f8718c2845404b8dedc8d6}{00034}}\ \ \ \ \ \ \ \ \ \textcolor{keyword}{public}\ Int32\ \mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_f_s_m_aa84653af26f8718c2845404b8dedc8d6_aa84653af26f8718c2845404b8dedc8d6}{ActiveStateIndex}}\ \{\ \textcolor{keyword}{get};\ \textcolor{keyword}{private}\ \textcolor{keyword}{set};\ \}\ =\ -\/1;}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00035}00035\ }
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00039}\mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_f_s_m_a1c487dbaa542d1fe109a408f9b62acd6_a1c487dbaa542d1fe109a408f9b62acd6}{00039}}\ \ \ \ \ \ \ \ \ \textcolor{keyword}{public}\ Boolean\ \mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_f_s_m_a1c487dbaa542d1fe109a408f9b62acd6_a1c487dbaa542d1fe109a408f9b62acd6}{Logging}}}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00040}00040\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00041}00041\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{get}\ =>\ m\_Logging;}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00042}00042\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{set}}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00043}00043\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00044}00044\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ m\_Logging\ =\ value;}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00045}00045\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ApplyLoggingToAllStates(m\_Logging);}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00046}00046\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00047}00047\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00048}00048\ }
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00052}\mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_f_s_m_ab6515d4de34057a6bde4dfbe91a432d8_ab6515d4de34057a6bde4dfbe91a432d8}{00052}}\ \ \ \ \ \ \ \ \ \textcolor{keyword}{public}\ \mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_f_s_m_1_1_state}{State}}[]\ \mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_f_s_m_ab6515d4de34057a6bde4dfbe91a432d8_ab6515d4de34057a6bde4dfbe91a432d8}{States}}\ =>\ m\_States;}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00053}00053\ \ \ \ \ \ \ \ \ \textcolor{keyword}{private}\ Boolean\ IsStarted\ =>\ !(\mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_f_s_m_aa84653af26f8718c2845404b8dedc8d6_aa84653af26f8718c2845404b8dedc8d6}{ActiveStateIndex}}\ <\ 0);}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00054}00054\ }
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00058}\mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_f_s_m_a934fa09ba291a97f43720640e4d83f25_a934fa09ba291a97f43720640e4d83f25}{00058}}\ \ \ \ \ \ \ \ \ \textcolor{keyword}{public}\ String\ \mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_f_s_m_a934fa09ba291a97f43720640e4d83f25_a934fa09ba291a97f43720640e4d83f25}{Name}}\ \{\ \textcolor{keyword}{get};\ \}}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00059}00059\ }
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00064}\mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_f_s_m_a8ece463f6647d84ca267a574ed3e8e5e_a8ece463f6647d84ca267a574ed3e8e5e}{00064}}\ \ \ \ \ \ \ \ \ \textcolor{keyword}{public}\ \mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_f_s_m_1_1_state}{State}}\ \mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_f_s_m_a8ece463f6647d84ca267a574ed3e8e5e_a8ece463f6647d84ca267a574ed3e8e5e}{ActiveState}}}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00065}00065\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00066}00066\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{get}}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00067}00067\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00068}00068\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ThrowIfStatemachineNotStarted();}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00069}00069\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_f_s_m_ab6515d4de34057a6bde4dfbe91a432d8_ab6515d4de34057a6bde4dfbe91a432d8}{States}}[\mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_f_s_m_aa84653af26f8718c2845404b8dedc8d6_aa84653af26f8718c2845404b8dedc8d6}{ActiveStateIndex}}];}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00070}00070\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00071}00071\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00072}00072\ }
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00076}\mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_f_s_m_a89b5540d6f3b27f75c2f12b366f0c7e5_a89b5540d6f3b27f75c2f12b366f0c7e5}{00076}}\ \ \ \ \ \ \ \ \ \textcolor{keyword}{public}\ \mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_variables}{Variables}}\ \mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_f_s_m_a89b5540d6f3b27f75c2f12b366f0c7e5_a89b5540d6f3b27f75c2f12b366f0c7e5}{StaticVars}}\ =>\ s\_StaticVars;}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00077}00077\ }
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00081}\mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_f_s_m_aecdc4cbca08005602bcacb82c95cdca6_aecdc4cbca08005602bcacb82c95cdca6}{00081}}\ \ \ \ \ \ \ \ \ \textcolor{keyword}{public}\ \mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_variables}{Variables}}\ \mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_f_s_m_aecdc4cbca08005602bcacb82c95cdca6_aecdc4cbca08005602bcacb82c95cdca6}{Vars}}\ \{\ \textcolor{keyword}{get};\ \}\ =\ \textcolor{keyword}{new}();}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00082}00082\ }
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00087}\mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_f_s_m_a733e667d065f1dd77f38198a6fd590bc_a733e667d065f1dd77f38198a6fd590bc}{00087}}\ \ \ \ \ \ \ \ \ \textcolor{keyword}{public}\ Int32\ \mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_f_s_m_a733e667d065f1dd77f38198a6fd590bc_a733e667d065f1dd77f38198a6fd590bc}{MaxStateChangesPerEvaluate}}\ \{\ \textcolor{keyword}{get};\ \textcolor{keyword}{set};\ \}\ =\ 100;}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00091}\mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_f_s_m_a9d648e3a9084912f514aa198c0a2551b_a9d648e3a9084912f514aa198c0a2551b}{00091}}\ \ \ \ \ \ \ \ \ \textcolor{keyword}{public}\ Boolean\ \mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_f_s_m_a9d648e3a9084912f514aa198c0a2551b_a9d648e3a9084912f514aa198c0a2551b}{AllowMultipleStateChanges}}\ \{\ \textcolor{keyword}{get};\ \textcolor{keyword}{set};\ \}}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00095}\mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_f_s_m_a19267b3360dcc6697b935b50164ce6cf_a19267b3360dcc6697b935b50164ce6cf}{00095}}\ \ \ \ \ \ \ \ \ \textcolor{keyword}{public}\ Boolean\ \mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_f_s_m_a19267b3360dcc6697b935b50164ce6cf_a19267b3360dcc6697b935b50164ce6cf}{IsStopped}}\ =>\ \mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_f_s_m_a8ece463f6647d84ca267a574ed3e8e5e_a8ece463f6647d84ca267a574ed3e8e5e}{ActiveState}}.\mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_f_s_m_1_1_state_a69d5b2d251d4f8f5663ff2adc397e1e9_a69d5b2d251d4f8f5663ff2adc397e1e9}{IsFinalState}}();}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00100}\mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_f_s_m_a4b5171e406dd682d56cc67d73a1ca5fd_a4b5171e406dd682d56cc67d73a1ca5fd}{00100}}\ \ \ \ \ \ \ \ \ \textcolor{keyword}{public}\ Boolean\ \mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_f_s_m_a4b5171e406dd682d56cc67d73a1ca5fd_a4b5171e406dd682d56cc67d73a1ca5fd}{DidChangeState}}\ \{\ \textcolor{keyword}{get};\ \textcolor{keyword}{private}\ \textcolor{keyword}{set};\ \}}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00101}00101\ }
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00102}00102\ \ \ \ \ \ \ \ \ \textcolor{keyword}{private}\ \mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_f_s_m}{FSM}}()\ \{\}\ \textcolor{comment}{//\ forbidden\ default\ ctor}}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00103}00103\ }
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00108}\mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_f_s_m_ad32c6ba5fac0e804fcbed48293264324_ad32c6ba5fac0e804fcbed48293264324}{00108}}\ \ \ \ \ \ \ \ \ \textcolor{keyword}{public}\ \mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_f_s_m_ad32c6ba5fac0e804fcbed48293264324_ad32c6ba5fac0e804fcbed48293264324}{FSM}}(String\ statemachineName)\ =>\ \mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_f_s_m_a934fa09ba291a97f43720640e4d83f25_a934fa09ba291a97f43720640e4d83f25}{Name}}\ =\ statemachineName;}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00109}00109\ }
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00110}00110\ \ \ \ \ \ \ \ \ \textcolor{keyword}{private}\ \textcolor{keywordtype}{void}\ ApplyLoggingToAllStates(Boolean\ logging)}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00111}00111\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00112}00112\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (m\_States\ ==\ \textcolor{keyword}{null}\ ||\ m\_States.Length\ ==\ 0)}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00113}00113\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00114}00114\ }
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00115}00115\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{foreach}\ (var\ state\ \textcolor{keywordflow}{in}\ m\_States)}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00116}00116\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00117}00117\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (state\ !=\ \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00118}00118\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ state.Logging\ =\ logging;}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00119}00119\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00120}00120\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00121}00121\ }
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00128}\mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_f_s_m_a4f9aee773fd83bf3206c1ed36dbfa3e6_a4f9aee773fd83bf3206c1ed36dbfa3e6}{00128}}\ \ \ \ \ \ \ \ \ \textcolor{keyword}{public}\ \mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_f_s_m}{FSM}}\ \mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_f_s_m_a4f9aee773fd83bf3206c1ed36dbfa3e6_a4f9aee773fd83bf3206c1ed36dbfa3e6}{WithStates}}(params\ String[]\ stateNames)}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00129}00129\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00130}00130\ \ \ \ \ \ \ \ \ \ \ \ \ var\ states\ =\ \mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_f_s_m_acd66df1ec5e184afe1a5d624a672462c_acd66df1ec5e184afe1a5d624a672462c}{CreateStates}}(stateNames);}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00131}00131\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_f_s_m_a4f9aee773fd83bf3206c1ed36dbfa3e6_a4f9aee773fd83bf3206c1ed36dbfa3e6}{WithStates}}(states);}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00132}00132\ }
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00133}00133\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{this};}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00134}00134\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00135}00135\ }
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00142}\mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_f_s_m_a00753da46802ebeb4e160e16a9b62b5e_a00753da46802ebeb4e160e16a9b62b5e}{00142}}\ \ \ \ \ \ \ \ \ \textcolor{keyword}{public}\ \mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_f_s_m}{FSM}}\ \mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_f_s_m_a00753da46802ebeb4e160e16a9b62b5e_a00753da46802ebeb4e160e16a9b62b5e}{WithStates}}(params\ \mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_f_s_m_1_1_state}{State}}[]\ states)}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00143}00143\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00144}00144\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_f_s_m_ab6515d4de34057a6bde4dfbe91a432d8_ab6515d4de34057a6bde4dfbe91a432d8}{States}}\ !=\ \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00145}00145\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \textcolor{keyword}{new}\ InvalidOperationException(\textcolor{stringliteral}{"{}States\ already\ set!"{}});}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00146}00146\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (states\ ==\ \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00147}00147\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \textcolor{keyword}{new}\ ArgumentNullException(nameof(states));}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00148}00148\ }
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00149}00149\ \ \ \ \ \ \ \ \ \ \ \ \ m\_States\ =\ states;}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00150}00150\ }
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00151}00151\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{this};}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00152}00152\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00153}00153\ }
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00158}\mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_f_s_m_a0d8cbfe9a74df3d78e5757f99dad4297_a0d8cbfe9a74df3d78e5757f99dad4297}{00158}}\ \ \ \ \ \ \ \ \ \textcolor{keyword}{public}\ \mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_f_s_m}{FSM}}\ \mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_f_s_m_a0d8cbfe9a74df3d78e5757f99dad4297_a0d8cbfe9a74df3d78e5757f99dad4297}{Start}}()}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00159}00159\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00160}00160\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (IsStarted)}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00161}00161\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \textcolor{keyword}{new}\ InvalidOperationException(\$\textcolor{stringliteral}{"{}FSM\ '\{Name\}':\ Start()\ must\ only\ be\ called\ once"{}});}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00162}00162\ }
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00163}00163\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_f_s_m_aa84653af26f8718c2845404b8dedc8d6_aa84653af26f8718c2845404b8dedc8d6}{ActiveStateIndex}}\ =\ 0;}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00164}00164\ }
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00165}00165\ \ \ \ \ \ \ \ \ \ \ \ \ ApplyLoggingToAllStates(\mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_f_s_m_a1c487dbaa542d1fe109a408f9b62acd6_a1c487dbaa542d1fe109a408f9b62acd6}{Logging}});}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00166}00166\ }
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00167}00167\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{foreach}\ (var\ state\ \textcolor{keywordflow}{in}\ \mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_f_s_m_ab6515d4de34057a6bde4dfbe91a432d8_ab6515d4de34057a6bde4dfbe91a432d8}{States}})}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00168}00168\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ state.OnStart(\textcolor{keyword}{this});}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00169}00169\ }
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00170}00170\ \ \ \ \ \ \ \ \ \ \ \ \ ValidateStatemachine();}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00171}00171\ }
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00172}00172\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_f_s_m_a8ece463f6647d84ca267a574ed3e8e5e_a8ece463f6647d84ca267a574ed3e8e5e}{ActiveState}}.OnEnterState(\textcolor{keyword}{this});}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00173}00173\ }
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00174}00174\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{this};}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00175}00175\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00176}00176\ }
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00177}00177\ \ \ \ \ \ \ \ \ \textcolor{keyword}{private}\ \textcolor{keywordtype}{void}\ Stop()}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00178}00178\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00179}00179\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_f_s_m_a8ece463f6647d84ca267a574ed3e8e5e_a8ece463f6647d84ca267a574ed3e8e5e}{ActiveState}}.OnExitState(\textcolor{keyword}{this});}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00180}00180\ }
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00181}00181\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{foreach}\ (var\ state\ \textcolor{keywordflow}{in}\ \mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_f_s_m_ab6515d4de34057a6bde4dfbe91a432d8_ab6515d4de34057a6bde4dfbe91a432d8}{States}})}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00182}00182\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ state.OnStop(\textcolor{keyword}{this});}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00183}00183\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00184}00184\ }
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00188}\mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_f_s_m_aec0783b5a136e042adcc47bae4fe5291_aec0783b5a136e042adcc47bae4fe5291}{00188}}\ \ \ \ \ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_f_s_m_aec0783b5a136e042adcc47bae4fe5291_aec0783b5a136e042adcc47bae4fe5291}{Update}}()}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00189}00189\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00190}00190\ \ \ \ \ \ \ \ \ \ \ \ \ ThrowIfStatemachineNotStarted();}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00191}00191\ }
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00192}00192\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_f_s_m_a19267b3360dcc6697b935b50164ce6cf_a19267b3360dcc6697b935b50164ce6cf}{IsStopped}})}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00193}00193\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00194}00194\ }
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00195}00195\ \ \ \ \ \ \ \ \ \ \ \ \ var\ iterations\ =\ \mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_f_s_m_a9d648e3a9084912f514aa198c0a2551b_a9d648e3a9084912f514aa198c0a2551b}{AllowMultipleStateChanges}}\ ?\ \mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_f_s_m_a733e667d065f1dd77f38198a6fd590bc_a733e667d065f1dd77f38198a6fd590bc}{MaxStateChangesPerEvaluate}}\ :\ 0;}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00196}00196\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{do}}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00197}00197\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00198}00198\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//Debug.Log(\$"{}[\{Time.frameCount\}]\ FSM\ Update:\ iteration\ \#\{MaxStateChangesPerEvaluate-\/iterations\}"{});}}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00199}00199\ }
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00200}00200\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_f_s_m_a4b5171e406dd682d56cc67d73a1ca5fd_a4b5171e406dd682d56cc67d73a1ca5fd}{DidChangeState}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00201}00201\ }
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00202}00202\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ var\ updatingState\ =\ \mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_f_s_m_a8ece463f6647d84ca267a574ed3e8e5e_a8ece463f6647d84ca267a574ed3e8e5e}{ActiveState}};}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00203}00203\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ updatingState.\mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_f_s_m_1_1_state_a85f2deb1cf8b0d00c326783a978137d7_a85f2deb1cf8b0d00c326783a978137d7}{Update}}(\textcolor{keyword}{this});}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00204}00204\ }
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00205}00205\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_f_s_m_a4b5171e406dd682d56cc67d73a1ca5fd_a4b5171e406dd682d56cc67d73a1ca5fd}{DidChangeState}})}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00206}00206\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00207}00207\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ updatingState.OnExitState(\textcolor{keyword}{this});}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00208}00208\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_f_s_m_a8ece463f6647d84ca267a574ed3e8e5e_a8ece463f6647d84ca267a574ed3e8e5e}{ActiveState}}.OnEnterState(\textcolor{keyword}{this});}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00209}00209\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ InvokeOnStateChangeEvent(updatingState);}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00210}00210\ }
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00211}00211\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_f_s_m_a8ece463f6647d84ca267a574ed3e8e5e_a8ece463f6647d84ca267a574ed3e8e5e}{ActiveState}}.\mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_f_s_m_1_1_state_a69d5b2d251d4f8f5663ff2adc397e1e9_a69d5b2d251d4f8f5663ff2adc397e1e9}{IsFinalState}}())}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00212}00212\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00213}00213\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Stop();}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00214}00214\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ InvokeOnStoppedEvent();}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00215}00215\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00216}00216\ }
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00217}00217\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ iterations-\/-\/;}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00218}00218\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00219}00219\ }
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00220}00220\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_f_s_m_a19267b3360dcc6697b935b50164ce6cf_a19267b3360dcc6697b935b50164ce6cf}{IsStopped}}\ ||\ \mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_f_s_m_a4b5171e406dd682d56cc67d73a1ca5fd_a4b5171e406dd682d56cc67d73a1ca5fd}{DidChangeState}}\ ==\ \textcolor{keyword}{false})}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00221}00221\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00222}00222\ }
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00223}00223\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_f_s_m_a9d648e3a9084912f514aa198c0a2551b_a9d648e3a9084912f514aa198c0a2551b}{AllowMultipleStateChanges}})}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00224}00224\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ WarnIfIterationsExceeded(iterations);}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00225}00225\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{while}\ (iterations\ >\ 0);}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00226}00226\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00227}00227\ }
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00228}00228\ \ \ \ \ \ \ \ \ \textcolor{keyword}{private}\ \textcolor{keywordtype}{void}\ WarnIfIterationsExceeded(Int32\ iterations)}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00229}00229\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00230}00230\ \textcolor{preprocessor}{\#if\ DEBUG\ ||\ DEVELOPMENT\_BUILD}}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00231}00231\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (iterations\ ==\ 0)}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00232}00232\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Debug.LogWarning(\$\textcolor{stringliteral}{"{}\{Name\}\ exceeded\ \{MaxStateChangesPerEvaluate\}\ update\ iterations\ (possible\ flow\ cycle)"{}});}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00233}00233\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00234}00234\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00235}00235\ }
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00236}00236\ \ \ \ \ \ \ \ \ \textcolor{keyword}{private}\ \textcolor{keywordtype}{void}\ InvokeOnStateChangeEvent(State\ updatingState)\ =>\ \mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_f_s_m_aeca885021ed88c142b302e348f89bee3_aeca885021ed88c142b302e348f89bee3}{OnStateChange}}?.Invoke(\textcolor{keyword}{new}\ StateChangeEventArgs}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00237}00237\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00238}00238\ \ \ \ \ \ \ \ \ \ \ \ \ Statemachine\ =\ \textcolor{keyword}{this},}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00239}00239\ \ \ \ \ \ \ \ \ \ \ \ \ PreviousState\ =\ updatingState,}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00240}00240\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_f_s_m_a8ece463f6647d84ca267a574ed3e8e5e_a8ece463f6647d84ca267a574ed3e8e5e}{ActiveState}}\ =\ \mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_f_s_m_a8ece463f6647d84ca267a574ed3e8e5e_a8ece463f6647d84ca267a574ed3e8e5e}{ActiveState}},}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00241}00241\ \ \ \ \ \ \ \ \ \});}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00242}00242\ }
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00243}00243\ \ \ \ \ \ \ \ \ \textcolor{keyword}{private}\ \textcolor{keywordtype}{void}\ InvokeOnStoppedEvent()\ =>\ \mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_f_s_m_a8025d9d59a9a164c8f31e0137a2e2dbd_a8025d9d59a9a164c8f31e0137a2e2dbd}{OnStopped}}?.Invoke(\textcolor{keyword}{new}\ StatemachineStoppedEventArgs}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00244}00244\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00245}00245\ \ \ \ \ \ \ \ \ \ \ \ \ Statemachine\ =\ \textcolor{keyword}{this},}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00246}00246\ \ \ \ \ \ \ \ \ \ \ \ \ FinalState\ =\ \mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_f_s_m_a8ece463f6647d84ca267a574ed3e8e5e_a8ece463f6647d84ca267a574ed3e8e5e}{ActiveState}},}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00247}00247\ \ \ \ \ \ \ \ \ \});}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00248}00248\ }
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00249}00249\ \ \ \ \ \ \ \ \ \textcolor{keyword}{internal}\ \textcolor{keywordtype}{void}\ SetActiveState(State\ state)}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00250}00250\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00251}00251\ \ \ \ \ \ \ \ \ \ \ \ \ var\ newStateIndex\ =\ FindStateIndex(state);}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00252}00252\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_f_s_m_a4b5171e406dd682d56cc67d73a1ca5fd_a4b5171e406dd682d56cc67d73a1ca5fd}{DidChangeState}}\ =\ newStateIndex\ !=\ \mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_f_s_m_aa84653af26f8718c2845404b8dedc8d6_aa84653af26f8718c2845404b8dedc8d6}{ActiveStateIndex}};}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00253}00253\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_f_s_m_aa84653af26f8718c2845404b8dedc8d6_aa84653af26f8718c2845404b8dedc8d6}{ActiveStateIndex}}\ =\ newStateIndex;}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00254}00254\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00255}00255\ }
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00256}00256\ \ \ \ \ \ \ \ \ \textcolor{keyword}{private}\ Int32\ FindStateIndex(State\ searchForState)\ =>\ Array.FindIndex(\mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_f_s_m_ab6515d4de34057a6bde4dfbe91a432d8_ab6515d4de34057a6bde4dfbe91a432d8}{States}},\ s\ =>\ s\ ==\ searchForState);}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00257}00257\ }
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00258}00258\ \ \ \ \ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{override}\ String\ ToString()\ =>\ \$\textcolor{stringliteral}{"{}FSM(\{Name\})"{}};}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00259}00259\ }
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00263}\mbox{\hyperlink{struct_code_smile_1_1_statemachine_1_1_f_s_m_1_1_state_change_event_args}{00263}}\ \ \ \ \ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_code_smile_1_1_statemachine_1_1_f_s_m_1_1_state_change_event_args}{StateChangeEventArgs}}}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00264}00264\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00265}00265\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{public}\ \mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_f_s_m}{FSM}}\ Statemachine;}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00266}00266\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{public}\ \mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_f_s_m_1_1_state}{State}}\ PreviousState;}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00267}00267\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{public}\ \mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_f_s_m_1_1_state}{State}}\ ActiveState;}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00268}00268\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00269}00269\ }
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00273}\mbox{\hyperlink{struct_code_smile_1_1_statemachine_1_1_f_s_m_1_1_statemachine_stopped_event_args}{00273}}\ \ \ \ \ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_code_smile_1_1_statemachine_1_1_f_s_m_1_1_statemachine_stopped_event_args}{StatemachineStoppedEventArgs}}}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00274}00274\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00275}00275\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{public}\ \mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_f_s_m}{FSM}}\ Statemachine;}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00276}00276\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{public}\ \mbox{\hyperlink{class_code_smile_1_1_statemachine_1_1_f_s_m_1_1_state}{State}}\ FinalState;}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00277}00277\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00278}00278\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_f_s_m_8cs_source_l00279}00279\ \}}

\end{DoxyCode}
