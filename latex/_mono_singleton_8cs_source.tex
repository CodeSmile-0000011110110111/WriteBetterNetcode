\doxysubsection{Mono\+Singleton.\+cs}
\hypertarget{_mono_singleton_8cs_source}{}\label{_mono_singleton_8cs_source}\index{U:/Netcode/WriteBetterNetcode/WriteBetterNetcode/Assets/CodeSmile/Core/Components/Utility/MonoSingleton.cs@{U:/Netcode/WriteBetterNetcode/WriteBetterNetcode/Assets/CodeSmile/Core/Components/Utility/MonoSingleton.cs}}

\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00001}00001\ \textcolor{comment}{//\ Copyright\ (C)\ 2021-\/2024\ Steffen\ Itterheim}}
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00002}00002\ \textcolor{comment}{//\ Refer\ to\ included\ LICENSE\ file\ for\ terms\ and\ conditions.}}
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00003}00003\ }
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00004}00004\ \textcolor{keyword}{using\ }System;}
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00005}00005\ \textcolor{keyword}{using\ }UnityEditor;}
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00006}00006\ \textcolor{keyword}{using\ }UnityEngine;}
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00007}00007\ }
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00008}00008\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespace_code_smile_1_1_components_1_1_utility}{CodeSmile.Components.Utility}}}
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00009}00009\ \{}
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00042}\mbox{\hyperlink{class_code_smile_1_1_components_1_1_utility_1_1_mono_singleton}{00042}}\ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{abstract}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_code_smile_1_1_components_1_1_utility_1_1_mono_singleton}{MonoSingleton}}<T>\ :\ MonoBehaviour\ where\ T\ :\ \mbox{\hyperlink{class_code_smile_1_1_components_1_1_utility_1_1_mono_singleton}{MonoSingleton}}<T>}
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00043}00043\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00044}00044\ \ \ \ \ \ \ \ \ \textcolor{keyword}{private}\ \textcolor{keyword}{static}\ T\ s\_Instance;}
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00045}00045\ \ \ \ \ \ \ \ \ \textcolor{keyword}{private}\ \textcolor{keyword}{static}\ Boolean\ s\_IsInstanceAssigned;}
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00046}00046\ }
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00054}\mbox{\hyperlink{class_code_smile_1_1_components_1_1_utility_1_1_mono_singleton_a131d5b2725566e852567e2c7a206e00f_a131d5b2725566e852567e2c7a206e00f}{00054}}\ \ \ \ \ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{static}\ T\ \mbox{\hyperlink{class_code_smile_1_1_components_1_1_utility_1_1_mono_singleton_a131d5b2725566e852567e2c7a206e00f_a131d5b2725566e852567e2c7a206e00f}{Singleton}}}
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00055}00055\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00056}00056\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{get}}
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00057}00057\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00058}00058\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (s\_IsInstanceAssigned\ ==\ \textcolor{keyword}{false})}
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00059}00059\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00060}00060\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ var\ instance\ =\ AutoCreateInstance();}
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00061}00061\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_code_smile_1_1_components_1_1_utility_1_1_mono_singleton_ae4cb9374cfdf6a21c795cc2acff39b98_ae4cb9374cfdf6a21c795cc2acff39b98}{SetSingletonInstance}}(instance);}
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00062}00062\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00063}00063\ }
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00064}00064\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ s\_Instance;}
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00065}00065\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00066}00066\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00067}00067\ }
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00079}\mbox{\hyperlink{class_code_smile_1_1_components_1_1_utility_1_1_mono_singleton_ae4cb9374cfdf6a21c795cc2acff39b98_ae4cb9374cfdf6a21c795cc2acff39b98}{00079}}\ \ \ \ \ \ \ \ \ \textcolor{keyword}{protected}\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_code_smile_1_1_components_1_1_utility_1_1_mono_singleton_ae4cb9374cfdf6a21c795cc2acff39b98_ae4cb9374cfdf6a21c795cc2acff39b98}{SetSingletonInstance}}(T\ instance)}
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00080}00080\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00081}00081\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (instance\ ==\ \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00082}00082\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \textcolor{keyword}{new}\ ArgumentNullException(\textcolor{stringliteral}{"{}instance\ must\ not\ be\ null"{}});}
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00083}00083\ }
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00084}00084\ \ \ \ \ \ \ \ \ \ \ \ \ s\_Instance\ =\ instance;}
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00085}00085\ \ \ \ \ \ \ \ \ \ \ \ \ s\_IsInstanceAssigned\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00086}00086\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00087}00087\ }
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00088}00088\ \ \ \ \ \ \ \ \ \textcolor{keyword}{private}\ \textcolor{keyword}{static}\ T\ AutoCreateInstance()\ =>}
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00089}00089\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{new}\ GameObject(\$\textcolor{stringliteral}{"{}\{typeof(T).Name\}\ (Auto-\/Created)"{}},\ typeof(T)).GetComponent<T>();}
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00090}00090\ }
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00095}\mbox{\hyperlink{class_code_smile_1_1_components_1_1_utility_1_1_mono_singleton_affb6ac8f8f08d515a8b74f5c213c2c52_affb6ac8f8f08d515a8b74f5c213c2c52}{00095}}\ \ \ \ \ \ \ \ \ \textcolor{keyword}{protected}\ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_code_smile_1_1_components_1_1_utility_1_1_mono_singleton_affb6ac8f8f08d515a8b74f5c213c2c52_affb6ac8f8f08d515a8b74f5c213c2c52}{Awake}}()}
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00096}00096\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00097}00097\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (s\_Instance\ !=\ \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00098}00098\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \textcolor{keyword}{new}\ InvalidOperationException(\$\textcolor{stringliteral}{"{}\{nameof(MonoSingleton<T>)\}<\{typeof(T).Name\}>\ already\ instantiated!"{}});}
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00099}00099\ }
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00100}00100\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_code_smile_1_1_components_1_1_utility_1_1_mono_singleton_ae4cb9374cfdf6a21c795cc2acff39b98_ae4cb9374cfdf6a21c795cc2acff39b98}{SetSingletonInstance}}(\textcolor{keyword}{this}\ as\ T);}
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00101}00101\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00102}00102\ }
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00103}00103\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ must\ defer\ DDoL\ to\ Start\ to\ allow\ possible\ \ Multiplayer\ Roles\ stripping\ during\ Awake}}
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00104}00104\ \ \ \ \ \ \ \ \ \textcolor{keyword}{protected}\ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ Start()}
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00105}00105\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00106}00106\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ DDoL\ only\ works\ on\ root\ game\ objects}}
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00107}00107\ \ \ \ \ \ \ \ \ \ \ \ \ transform.parent\ =\ \textcolor{keyword}{null};}
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00108}00108\ \ \ \ \ \ \ \ \ \ \ \ \ DontDestroyOnLoad(gameObject);}
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00109}00109\ }
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00110}00110\ \textcolor{preprocessor}{\#if\ DEBUG}}
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00111}00111\ \ \ \ \ \ \ \ \ \ \ \ \ EnableCheckDestroyWithoutQuitCheck();}
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00112}00112\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00113}00113\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00114}00114\ }
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00119}\mbox{\hyperlink{class_code_smile_1_1_components_1_1_utility_1_1_mono_singleton_a1be5f5b23715843a7bfc4f2ebd6c7894_a1be5f5b23715843a7bfc4f2ebd6c7894}{00119}}\ \ \ \ \ \ \ \ \ \textcolor{keyword}{protected}\ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_code_smile_1_1_components_1_1_utility_1_1_mono_singleton_a1be5f5b23715843a7bfc4f2ebd6c7894_a1be5f5b23715843a7bfc4f2ebd6c7894}{OnDestroy}}()}
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00120}00120\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00121}00121\ \textcolor{preprocessor}{\#if\ DEBUG}}
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00122}00122\ \ \ \ \ \ \ \ \ \ \ \ \ CheckDestroyWithoutQuit();}
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00123}00123\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00124}00124\ }
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00125}00125\ \ \ \ \ \ \ \ \ \ \ \ \ s\_Instance\ =\ \textcolor{keyword}{null};}
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00126}00126\ \ \ \ \ \ \ \ \ \ \ \ \ s\_IsInstanceAssigned\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00127}00127\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00128}00128\ }
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00132}\mbox{\hyperlink{class_code_smile_1_1_components_1_1_utility_1_1_mono_singleton_adc2f8a2859f53e3731e5aa660b973bc4_adc2f8a2859f53e3731e5aa660b973bc4}{00132}}\ \ \ \ \ \ \ \ \ \textcolor{keyword}{protected}\ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_code_smile_1_1_components_1_1_utility_1_1_mono_singleton_adc2f8a2859f53e3731e5aa660b973bc4_adc2f8a2859f53e3731e5aa660b973bc4}{OnApplicationQuit}}()}
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00133}00133\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00134}00134\ \textcolor{preprocessor}{\#if\ DEBUG}}
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00135}00135\ \ \ \ \ \ \ \ \ \ \ \ \ DisableCheckDestroyWithoutQuitCheck();}
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00136}00136\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00137}00137\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00138}00138\ }
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00139}00139\ \textcolor{preprocessor}{\#if\ DEBUG}}
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00140}00140\ \ \ \ \ \ \ \ \ \textcolor{keyword}{private}\ \textcolor{keyword}{static}\ Boolean\ s\_IsApplicationQuitting\ =\ \textcolor{keyword}{true};\ \textcolor{comment}{//\ start\ true\ to\ allow\ for\ component\ stripping\ during\ Awake()}}
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00141}00141\ \ \ \ \ \ \ \ \ \textcolor{keyword}{private}\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ EnableCheckDestroyWithoutQuitCheck()\ =>\ s\_IsApplicationQuitting\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00142}00142\ \ \ \ \ \ \ \ \ \textcolor{keyword}{private}\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ DisableCheckDestroyWithoutQuitCheck()\ =>\ s\_IsApplicationQuitting\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00143}00143\ \ \ \ \ \ \ \ \ \textcolor{keyword}{private}\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ CheckDestroyWithoutQuit()}
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00144}00144\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00145}00145\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (s\_IsApplicationQuitting\ ==\ \textcolor{keyword}{false})}
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00146}00146\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00147}00147\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \textcolor{keyword}{new}\ InvalidOperationException(\textcolor{stringliteral}{"{}Destroy()\ on\ MonoSingleton<T>\ instance\ disallowed!\ "{}}\ +}
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00148}00148\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}MonoSingleton\ must\ remain\ instantiated\ until\ Application\ quits.\ "{}}\ +}
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00149}00149\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}To\ perform\ cleanup\ use\ appropriate\ event\ handlers\ (eg\ scene\ load)."{}});}
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00150}00150\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00151}00151\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00152}00152\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00153}00153\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_mono_singleton_8cs_source_l00154}00154\ \}}

\end{DoxyCode}
